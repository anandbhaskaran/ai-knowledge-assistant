{"openapi":"3.1.0","info":{"title":"AI Journalist Assistant","description":"AI-powered tool for journalists to research and draft evidence-backed articles","version":"0.1.0"},"paths":{"/api/v1/ideas":{"post":{"tags":["ideas"],"summary":"Generate Ideas","description":"Generate article ideas based on a topic\n\n- **topic**: Topic to generate ideas for\n- **num_ideas**: Number of ideas to generate (default: 3, max: 5)","operationId":"generate_ideas_api_v1_ideas_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TopicRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdeasResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/outlines":{"post":{"tags":["outlines"],"summary":"Generate Outline","description":"Generate a detailed article outline using AI agent with archive and web search tools\n\n**Request Body:**\n- **headline**: Article headline\n- **thesis**: The thesis statement or main argument\n- **key_facts**: Key facts to incorporate (from idea generation)\n- **suggested_visualization**: Suggested data visualization\n\n**Returns:**\nA detailed markdown outline with:\n- Clear structure with H2 and H3 headings\n- Placeholder text indicating what to write in each section\n- Citations to relevant sources from both archive and web\n- Ranked sources with relevance scores and source_type (archive/web)\n- Incorporation of editorial guidelines\n\n**Sources:**\n- Archive sources from Qdrant vector database\n- Web sources from Tavily API (real-time search)\n- All sources ranked by relevance score (0-1)","operationId":"generate_outline_api_v1_outlines_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutlineRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutlineResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/drafts":{"post":{"tags":["drafts"],"summary":"Generate Draft","description":"Generate a publication-ready article draft using AI agent with citation tools\n\n**Request Body:**\n- **headline**: Article headline\n- **thesis**: The thesis statement or main argument\n- **outline**: Article outline in markdown (from outline endpoint)\n- **sources**: Sources from outline endpoint (list of Source objects)\n- **key_facts**: Optional key facts to incorporate\n- **target_word_count**: Target word count (1000-2000, default: 1500)\n\n**Returns:**\nA complete article draft with:\n- Full markdown article with H1/H2/H3 headings\n- Inline citations in [Source, Title, Date] format\n- Word count and editorial compliance score\n- Lists of sources used vs. available\n- Section headings generated\n- Quality warnings if applicable\n\n**Process:**\nThe agent expands the outline into a full article by:\n1. Using provided sources from the outline endpoint\n2. Retrieving additional sources only when needed via archive_retrieval tool\n3. Formatting citations properly using citation_formatter tool\n4. Following editorial guidelines for voice, tone, and structure\n5. Validating quality and compliance\n\n**Editorial Standards:**\n- Intelligent, conversational tone\n- 15-20 words per sentence average\n- 2-4 sentences per paragraph\n- Every factual claim cited\n- No clickbait or sensationalism","operationId":"generate_draft_api_v1_drafts_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DraftRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DraftResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}}},"components":{"schemas":{"DraftRequest":{"properties":{"headline":{"type":"string","title":"Headline","description":"Article headline"},"thesis":{"type":"string","title":"Thesis","description":"Thesis statement or main argument"},"outline":{"type":"string","title":"Outline","description":"Article outline in markdown format (from outline endpoint)"},"sources":{"anyOf":[{"items":{"$ref":"#/components/schemas/Source"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Sources from outline endpoint to use for draft"},"key_facts":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Key Facts","description":"Key facts to incorporate"},"target_word_count":{"type":"integer","maximum":2000.0,"minimum":1000.0,"title":"Target Word Count","description":"Target word count (1000-2000)","default":1500},"enable_web_search":{"type":"boolean","title":"Enable Web Search","description":"Enable web search for additional sources (default: False)","default":false}},"type":"object","required":["headline","thesis","outline"],"title":"DraftRequest","description":"Request model for generating a draft article"},"DraftResponse":{"properties":{"headline":{"type":"string","title":"Headline","description":"Article headline"},"thesis":{"type":"string","title":"Thesis","description":"Thesis statement"},"draft":{"type":"string","title":"Draft","description":"Generated draft article in markdown format with inline citations"},"word_count":{"type":"integer","title":"Word Count","description":"Actual word count of the draft"},"sources_used":{"anyOf":[{"items":{"$ref":"#/components/schemas/Source"},"type":"array"},{"type":"null"}],"title":"Sources Used","description":"Sources actually cited in the draft"},"sources_available":{"anyOf":[{"items":{"$ref":"#/components/schemas/Source"},"type":"array"},{"type":"null"}],"title":"Sources Available","description":"Sources provided but not cited"},"sections_generated":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Sections Generated","description":"List of H2 section headings generated"},"editorial_compliance_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Editorial Compliance Score","description":"Editorial compliance score (0-1)"},"warning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warning","description":"Warnings about quality, word count, or compliance"}},"type":"object","required":["headline","thesis","draft","word_count"],"title":"DraftResponse","description":"Response model for draft article"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Health status"},"version":{"type":"string","title":"Version","description":"API version"}},"type":"object","required":["status","version"],"title":"HealthResponse","description":"Response model for health check"},"Idea":{"properties":{"headline":{"type":"string","title":"Headline","description":"Compelling headline for the article"},"thesis":{"type":"string","title":"Thesis","description":"Clear thesis statement (1-2 sentences)"},"key_facts":{"items":{"type":"string"},"type":"array","title":"Key Facts","description":"List of 3 key facts with citations"},"suggested_visualization":{"type":"string","title":"Suggested Visualization","description":"Suggested data visualization"}},"type":"object","required":["headline","thesis","key_facts","suggested_visualization"],"title":"Idea","description":"Model for a single article idea"},"IdeasResponse":{"properties":{"topic":{"type":"string","title":"Topic","description":"Topic of the ideas"},"num_ideas":{"type":"integer","title":"Num Ideas","description":"Number of ideas generated"},"ideas":{"items":{"$ref":"#/components/schemas/Idea"},"type":"array","title":"Ideas","description":"Array of generated article ideas"},"source_nodes":{"anyOf":[{"items":{"$ref":"#/components/schemas/SourceNode"},"type":"array"},{"type":"null"}],"title":"Source Nodes","description":"Source nodes used for generation"},"warning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warning","description":"Warning about source quality or relevance"}},"type":"object","required":["topic","num_ideas"],"title":"IdeasResponse","description":"Response model for article ideas"},"OutlineRequest":{"properties":{"headline":{"type":"string","title":"Headline","description":"Article headline"},"thesis":{"type":"string","title":"Thesis","description":"Thesis statement or main argument"},"key_facts":{"items":{"type":"string"},"type":"array","title":"Key Facts","description":"Key facts to incorporate"},"suggested_visualization":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggested Visualization","description":"Suggested data visualization"},"enable_web_search":{"type":"boolean","title":"Enable Web Search","description":"Enable web search for current information (default: True)","default":true}},"type":"object","required":["headline","thesis"],"title":"OutlineRequest","description":"Request model for generating an article outline"},"OutlineResponse":{"properties":{"headline":{"type":"string","title":"Headline","description":"Article headline"},"thesis":{"type":"string","title":"Thesis","description":"Thesis statement or main argument"},"key_facts":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Key Facts","description":"Key facts incorporated"},"suggested_visualization":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Suggested Visualization","description":"Suggested data visualization"},"outline":{"type":"string","title":"Outline","description":"Generated outline in markdown format with placeholders"},"sources":{"anyOf":[{"items":{"$ref":"#/components/schemas/Source"},"type":"array"},{"type":"null"}],"title":"Sources","description":"Ranked sources with relevance scores from archive and web, sorted by relevance (highest first)"},"warning":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Warning","description":"Warning about source quality or relevance"}},"type":"object","required":["headline","thesis","outline"],"title":"OutlineResponse","description":"Response model for article outline"},"Source":{"properties":{"title":{"type":"string","title":"Title","description":"Title of the source"},"source":{"type":"string","title":"Source","description":"Source name or publication"},"source_type":{"type":"string","title":"Source Type","description":"Type of source: 'archive' or 'web'"},"date":{"type":"string","title":"Date","description":"Publication date"},"url":{"type":"string","title":"Url","description":"URL of the source"},"relevance_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Relevance Score","description":"Relevance score (0-1)"},"text":{"type":"string","title":"Text","description":"Excerpt or full text of the source"},"citation_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Citation Number","description":"Citation number if used in draft (1, 2, 3, etc.)"}},"type":"object","required":["title","source","source_type","date","url","text"],"title":"Source","description":"Model for a retrieved source with full metadata"},"SourceNode":{"properties":{"text":{"type":"string","title":"Text","description":"Text of the source node"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata","description":"Metadata of the source node"},"relevance_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Relevance Score","description":"Relevance score of the source node"}},"type":"object","required":["text"],"title":"SourceNode","description":"Model for a source node"},"TopicRequest":{"properties":{"topic":{"type":"string","title":"Topic","description":"Topic to generate ideas for"},"num_ideas":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Num Ideas","description":"Number of ideas to generate (1-5)","default":3}},"type":"object","required":["topic"],"title":"TopicRequest","description":"Request model for generating article ideas"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}